<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Robots</name>
    <events>
        <comment>First, create your robots</comment>
        <event-block sid="9799686340373195">
            <conditions>
                <condition id="-2" name="On start of layout" sid="5211289470836006" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="6824315767399423" type="Otto" />
                <action id="-9" name="Destroy" sid="5281030641205169" type="Robot" />
            </actions>
            <sub-events>
                <comment>For each square in the effective 5 x 3 grid, 1 in 3 chance of a robot being there. They don&apos;t start moving immediately.</comment>
                <event-block sid="907759400687304">
                    <conditions>
                        <condition id="-10" name="For" sid="7461066781381567" type="System">
                            <param id="0" name="Name">&quot;row&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">4</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="7815562254053181">
                            <conditions>
                                <condition id="-10" name="For" sid="7736696079529768" type="System">
                                    <param id="0" name="Name">&quot;col&quot;</param>
                                    <param id="1" name="Start index">0</param>
                                    <param id="2" name="End index">2</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="3071833825018598">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="9424002308868875" type="System">
                                            <param id="0" name="First value">random(0,1)</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">0.33</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="5745077204117151" type="System">
                                            <param id="0" name="Object to create">Robot</param>
                                            <param id="1" name="Layer">1</param>
                                            <param id="2" name="X">(loopIndex(&quot;row&quot;)+random(0.3,0.7)) * sectionWidth</param>
                                            <param id="3" name="Y">(loopindex(&quot;col&quot;)+random(0.3,0.7))*sectionHeight</param>
                                        </action>
                                        <action behavior="Timer" id="0" name="Start timer" sid="4826332989614382" type="Robot">
                                            <param id="0" name="Duration">random(0.5,2.0)</param>
                                            <param id="1" name="Type">0</param>
                                            <param id="2" name="Tag">&quot;startRobot&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <comment>If too close to the player, destroy </comment>
                                        <event-block sid="1909719563523911">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="4432775456548734" type="System">
                                                    <param id="0" name="First value">distance(Player.X,Player.Y,Robot.X,Robot.Y)</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Second value">sectionWidth/3+sectionHeight/3</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Destroy" sid="2483924795649166" type="Robot" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <comment>When received the &apos;start&apos; instruction, start animation and moving and firing - pick a random axis for chasing</comment>
        <event-block sid="7410818229448463">
            <conditions>
                <condition behavior="Timer" id="0" name="On timer" sid="9000361385892119" type="Robot">
                    <param id="0" name="Tag">&quot;startRobot&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="3" name="Start" sid="1196192034683308" type="Robot">
                    <param id="0" name="From">0</param>
                </action>
                <action id="-13" name="Set boolean" sid="748592871812148" type="Robot">
                    <param id="0" name="Instance variable">isMoving</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-13" name="Set boolean" sid="3737579259290399" type="Robot">
                    <param id="0" name="Instance variable">isChasingHorizontally</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="2014341886268087">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="1610814656123956" type="System">
                            <param id="0" name="First value">random(0,1)</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Second value">0.5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="6924824766642853" type="Robot">
                            <param id="0" name="Instance variable">isChasingHorizontally</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5993277207432805">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="7216501214286544" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="1738003494847683" type="Function">
                            <param id="0" name="Name">&quot;evaluateMove&quot;</param>
                            <param id="1" name="Parameter {n}">Robot.UID</param>
                        </action>
                        <action behavior="Timer" id="0" name="Start timer" sid="5090314119195863" type="Robot">
                            <param id="0" name="Duration">random(2,9)</param>
                            <param id="1" name="Type">1</param>
                            <param id="2" name="Tag">&quot;flipDirection&quot;</param>
                        </action>
                        <action behavior="Timer" id="0" name="Start timer" sid="5947872223093562" type="Robot">
                            <param id="0" name="Duration">1</param>
                            <param id="1" name="Type">0</param>
                            <param id="2" name="Tag">&quot;attemptFire&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Once robots have been created, set their difficulty level (bullets, speed of bullet) and colour based on the score - from strategywiki.org</comment>
        <event-block sid="1647447595783073">
            <conditions>
                <condition id="-2" name="On start of layout" sid="8053005558311728" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="1539754855861591" type="System">
                    <param id="0" name="Variable">bonusSeconds</param>
                    <param id="1" name="Value">Robot.Count * 10</param>
                </action>
            </actions>
            <sub-events>
                <variable comment="Adjusted score" constant="0" name="aScore" sid="5969303303047577" static="0" type="number">0</variable>
                <event-block sid="7824301040986798">
                    <conditions>
                        <condition id="-11" name="For Each" sid="7544383414919729" type="System">
                            <param id="0" name="Object">Robot</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="5080272464354462" type="System">
                            <param id="0" name="Variable">aScore</param>
                            <param id="1" name="Value">score &lt; 20000 ? score % 12000 : 12000</param>
                        </action>
                        <action disabled="1" id="-9" name="Set value" sid="7311663072371095" type="System">
                            <param id="0" name="Variable">aScore</param>
                            <param id="1" name="Value">11111</param>
                        </action>
                        <action id="6" name="Set speed" sid="4696989045734257" type="Robot">
                            <param id="0" name="Speed">1</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="7740578108469329" type="Robot">
                            <param id="0" name="Effect">&quot;SetColor&quot;</param>
                            <param id="1" name="Parameter index">0</param>
                            <param id="2" name="Value">100</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="4415158499651233" type="Robot">
                            <param id="0" name="Effect">&quot;SetColor&quot;</param>
                            <param id="1" name="Parameter index">1</param>
                            <param id="2" name="Value">100</param>
                        </action>
                        <action id="-28" name="Set effect parameter" sid="2647579397130636" type="Robot">
                            <param id="0" name="Effect">&quot;SetColor&quot;</param>
                            <param id="1" name="Parameter index">2</param>
                            <param id="2" name="Value">0</param>
                        </action>
                        <action id="2" name="Stop" sid="5125663233162244" type="Robot" />
                    </actions>
                    <sub-events>
                        <event-block sid="9070202310901072">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="9199367144508192" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">260</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="3073668993313798" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="2268728369350007" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="9684610505647924" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="2809832283710227" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2025076863397743">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="7053498307999804" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">1200</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="7180323133401796" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="8488791559892975" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="474931244019232" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-10" name="Set value" sid="5371018711791565" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5720526044029424">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="6738502670167513" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">3000</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="9985288669447286" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="7223116399121642" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="9403335689048306" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="39082183572988" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">3</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="295787163192058">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="8430351852394056" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">4500</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="200004364931077" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="3506528039521898" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="2776099218299329" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-10" name="Set value" sid="3023473853636822" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">4</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9967731797580263">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="6566044171296384" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">6000</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="113335384353069" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="9085024669755897" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="5453331749394401" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="7617363204412671" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">5</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9321240479999106">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="3788073093485534" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">8000</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="1482528610552118" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="9778001949699228" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="9432419256123368" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-10" name="Set value" sid="9188124957615903" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="2489951591208318" type="Robot">
                                    <param id="0" name="Instance variable">isFastShot</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1609824171909306">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="936925802457957" type="System">
                                    <param id="0" name="Variable">aScore</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">10000</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="7991302880326783" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="5634852269139259" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">1</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="6826236196464552" type="Robot">
                                    <param id="0" name="Effect">&quot;SetColor&quot;</param>
                                    <param id="1" name="Parameter index">2</param>
                                    <param id="2" name="Value">100</param>
                                </action>
                                <action id="-10" name="Set value" sid="7432641056897827" type="Robot">
                                    <param id="0" name="Instance variable">maxBullets</param>
                                    <param id="1" name="Value">2</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="394797302173742" type="Robot">
                                    <param id="0" name="Instance variable">isFastShot</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9557393531144596">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="8578543759537116" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="1039538302647983" type="Robot">
                                    <param id="0" name="Instance variable">bulletsLeft</param>
                                    <param id="1" name="Value">Robot.maxBullets</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Move Robots if possible</comment>
        <event-block sid="5014366955207489">
            <conditions>
                <condition id="-11" name="For Each" sid="6709329384400439" type="System">
                    <param id="0" name="Object">Robot</param>
                </condition>
                <condition id="-14" name="Compare variable" sid="9007327332434248" type="System">
                    <param id="0" name="Variable">gameInPlay</param>
                    <param id="1" name="Comparison">1</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="9040804355956917">
                    <conditions>
                        <condition id="9" inverted="1" name="Is overlapping at offset" sid="1787619336840664" type="Robot">
                            <param id="0" name="Object">Wall</param>
                            <param id="1" name="Offset X">Robot.dx * (ROBOT_SPEED * dt + 5)</param>
                            <param id="2" name="Offset Y">Robot.dy * (ROBOT_SPEED * dt + 5)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="3230574943509748" type="Robot">
                            <param id="0" name="X">Robot.X + Robot.dx * dt * ROBOT_SPEED</param>
                            <param id="1" name="Y">Robot.Y + Robot.dy * dt * ROBOT_SPEED</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="92877398466555">
                    <conditions>
                        <condition id="-22" name="Else" sid="4773000512676993" type="System" />
                    </conditions>
                    <actions>
                        <action id="-14" name="Toggle boolean" sid="7976278147647205" type="Robot">
                            <param id="0" name="Instance variable">isChasingHorizontally</param>
                        </action>
                        <action id="0" name="Call function" sid="4306897361588867" type="Function">
                            <param id="0" name="Name">&quot;evaluateMove&quot;</param>
                            <param id="1" name="Parameter {n}">Robot.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>On a random timer, flip the chasing direction</comment>
        <event-block sid="2406338657184049">
            <conditions>
                <condition behavior="Timer" id="0" name="On timer" sid="4933232454964431" type="Robot">
                    <param id="0" name="Tag">&quot;flipDirection&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-14" name="Toggle boolean" sid="4000295444042788" type="Robot">
                    <param id="0" name="Instance variable">isChasingHorizontally</param>
                </action>
                <action id="0" name="Call function" sid="7250415445618488" type="Function">
                    <param id="0" name="Name">&quot;evaluateMove&quot;</param>
                    <param id="1" name="Parameter {n}">Robot.UID</param>
                </action>
            </actions>
        </event-block>
        <comment>Repeated attempt to fire</comment>
        <event-block sid="9027350926268422">
            <conditions>
                <condition behavior="Timer" id="0" name="On timer" sid="7980488483670834" type="Robot">
                    <param id="0" name="Tag">&quot;attemptFire&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Timer" id="0" name="Start timer" sid="6856297249150415" type="Robot">
                    <param id="0" name="Duration">random(0.5,2.5)</param>
                    <param id="1" name="Type">0</param>
                    <param id="2" name="Tag">&quot;attemptFire&quot;</param>
                </action>
            </actions>
            <sub-events>
                <comment>If any bullets left, then calculate angle</comment>
                <event-block sid="128417464060994">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9639739074865715" type="Robot">
                            <param id="0" name="Instance variable">bulletsLeft</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="3781226276373087" type="Robot">
                            <param id="0" name="Instance variable">fireAngle</param>
                            <param id="1" name="Value">(angle(Robot.X,Robot.Y,Player.X,Player.Y)+360) % 360</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>If angle roughly at 45 degrees fire.</comment>
                        <event-block any="1" sid="7336762669972138">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5796005268097518" type="System">
                                    <param id="0" name="First value">(Robot.fireAngle % 45)</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">4</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="8043041757567402" type="System">
                                    <param id="0" name="First value">(Robot.fireAngle % 45)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">41</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="4523952844085872" type="Robot">
                                    <param id="0" name="Object">RobotBullet</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="5902526010889167" type="RobotBullet">
                                    <param id="0" name="Instance variable">bulletOwnerUID</param>
                                    <param id="1" name="Value">Robot.UID</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="1182793991831536" type="RobotBullet">
                                    <param id="0" name="Angle">floor((Robot.fireAngle+4)/45)*45</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="650190911702727" type="Robot">
                                    <param id="0" name="Instance variable">bulletsLeft</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Play" sid="3704092292386821" type="Audio">
                                    <param id="0" name="Audio file">Bullet Fire</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">-10</param>
                                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="592217292296202">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="9029814157790907" type="Robot">
                                            <param id="0" name="Instance variable">isFastShot</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="1506024467785342" type="RobotBullet">
                                            <param id="0" name="Speed">RobotBullet.Bullet.Speed*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Work out move directions</comment>
        <event-block sid="5809562615182875">
            <conditions>
                <condition id="0" name="On function" sid="4608481333147234" type="Function">
                    <param id="0" name="Name">&quot;evaluateMove&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="1178966430892658">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="3826626069541756" type="Robot">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="7533155303521309" type="Robot">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9226213801020337">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="7732764569244074" type="Robot">
                                    <param id="0" name="Instance variable">isChasingHorizontally</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="2606750833154243" type="Robot">
                                    <param id="0" name="Instance variable">dx</param>
                                    <param id="1" name="Value">(Player.X = Robot.X) ? 0 : ((Player.X &lt; Robot.X) ? -1 : 1)</param>
                                </action>
                                <action id="-10" name="Set value" sid="9841466131583011" type="Robot">
                                    <param id="0" name="Instance variable">dy</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="4" name="Set animation" sid="679163912558088" type="Robot">
                                    <param id="0" name="Animation">&quot;Right&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="5297969147401565" type="Robot">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9847277745925647">
                            <conditions>
                                <condition id="-22" name="Else" sid="680201816652514" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="4481377658659561" type="Robot">
                                    <param id="0" name="Instance variable">dx</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="7693415884548545" type="Robot">
                                    <param id="0" name="Instance variable">dy</param>
                                    <param id="1" name="Value">(Player.Y = Robot.Y) ? 0 : ((Player.Y &lt; Robot.Y) ? -1 : 1)</param>
                                </action>
                                <action id="4" name="Set animation" sid="7733981142693581" type="Robot">
                                    <param id="0" name="Animation">Robot.dy &gt; 0 ? &quot;Down&quot;:&quot;Up&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <comment>Timer to launch Otto</comment>
        <event-block sid="5161280447420402">
            <conditions>
                <condition id="-2" name="On start of layout" sid="9464129610097677" type="System" />
            </conditions>
            <actions>
                <action behavior="Timer" id="0" name="Start timer" sid="5215711703988951" type="Player">
                    <param id="0" name="Duration">10+Robot.Count * 7</param>
                    <param id="1" name="Type">0</param>
                    <param id="2" name="Tag">&quot;launchOtto&quot;</param>
                </action>
            </actions>
        </event-block>
        <comment>Start Otto</comment>
        <event-block sid="4126562230534228">
            <conditions>
                <condition behavior="Timer" id="0" name="On timer" sid="9698002400072089" type="Player">
                    <param id="0" name="Tag">&quot;launchOtto&quot;</param>
                </condition>
                <condition id="-8" name="Compare two values" sid="1434490477788775" type="System">
                    <param id="0" name="First value">Otto.Count</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Second value">0</param>
                </condition>
                <condition id="-14" name="Compare variable" sid="6579613662962549" type="System">
                    <param id="0" name="Variable">gameInPlay</param>
                    <param id="1" name="Comparison">1</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="4126947048898405" type="System">
                    <param id="0" name="Object to create">Otto</param>
                    <param id="1" name="Layer">1</param>
                    <param id="2" name="X">(Player.X &lt; LayoutWidth/2) ? LayoutWidth : 0</param>
                    <param id="3" name="Y">sectionHeight*3/2</param>
                </action>
                <action behavior="Sine" id="2" name="Set magnitude" sid="1865954968819131" type="Otto">
                    <param id="0" name="Magnitude">sectionHeight*3/2</param>
                </action>
                <action id="0" name="Play" sid="4762821245534416" type="Audio">
                    <param id="0" name="Audio file">Intruder Alert</param>
                    <param id="2" name="Loop">0</param>
                    <param id="3" name="Volume">0</param>
                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                </action>
            </actions>
        </event-block>
        <comment>Adjust Otto&apos;s horizontal position</comment>
        <event-block sid="3982717795189997">
            <conditions>
                <condition id="-1" name="Every tick" sid="607447705989433" type="System" />
                <condition id="-14" name="Compare variable" sid="4905066361147255" type="System">
                    <param id="0" name="Variable">gameInPlay</param>
                    <param id="1" name="Comparison">1</param>
                    <param id="2" name="Value">0</param>
                </condition>
                <condition id="-8" name="Compare two values" sid="3612434714878593" type="System">
                    <param id="0" name="First value">Otto.Count</param>
                    <param id="1" name="Comparison">1</param>
                    <param id="2" name="Second value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-1" name="Set X" sid="4501187339847475" type="Otto">
                    <param id="0" name="X">Otto.X + ((Player.X &gt; Otto.X) ? 1 : -1) * dt * OTTO_STD_SPEED * ((Robot.Count = 0) ? 2 : 1)</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
